# Basic integration test protocol involving only a call to a bash script that writes a single line to a text file.
#JSUB<summary-name> "$SAMPLE_ID"
echo "Processing summary data from: ""$SAMPLE_ID"
# root group 
OUTFILE="$OUT_PREFIX""$SAMPLE_ID.txt" # Note: this is an example of what not to do! After the protocol is split OUTFILE will be undeclared in subsequent groups unless it is declared there again using variables from vars and variables from the top of the script.
bash "$PATH_TO_TRIVIAL" "$OUTFILE"
bash "$PATH_TO_TRIVIAL" "$OUTFILE"

#JGROUP first
OUTFILE="$OUT_PREFIX""$SAMPLE_ID.txt" 
bash "$PATH_TO_CONCAT" "$OUTFILE"_first "$SUBSAMPLE_01" "$SUBSAMPLE_02"
bash "$PATH_TO_CONCAT" "$OUTFILE"_first "$SUBSAMPLE_02" "$SUBSAMPLE_03"
#JGROUP second
OUTFILE="$OUT_PREFIX""$SAMPLE_ID.txt" 
bash "$PATH_TO_CONCAT" "$OUTFILE"_second "$SUBSAMPLE_02" "$SUBSAMPLE_03"
bash "$PATH_TO_CONCAT" "$OUTFILE"_second "$SUBSAMPLE_03" "$SUBSAMPLE_01"
#JGROUP third
OUTFILE="$OUT_PREFIX""$SAMPLE_ID.txt" 
bash "$PATH_TO_CONCAT" "$OUTFILE"_third "$SUBSAMPLE_03" "$SUBSAMPLE_01"
bash "$PATH_TO_CONCAT" "$OUTFILE"_third "$SUBSAMPLE_01" "$SUBSAMPLE_02"

#JGROUP last
OUTFILE="$OUT_PREFIX""$SAMPLE_ID.txt" 
bash "$PATH_TO_CATFILES" "$OUTFILE" "$OUTFILE"_first "$OUTFILE"_second "$OUTFILE"_third
